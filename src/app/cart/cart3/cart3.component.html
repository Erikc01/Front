<section class="hide-on-med-and-down">
	<div class="container">
		<form  #cart="ngForm" (ngSubmit)="onSubmit()" ngNativeValidate>
			<div class="row">
				<div class="col m7">
					<div class="row">
						<div class="col m12">
							<a href="/cotizaciones/{{quote_id}}" style="color:#33333333">Paquetes</a> 
							<i class="material-icons" style="font-size: 20px; position: relative;top:5px">chevron_right</i>
							<a href="/compra-kilometros/{{quote_id}}/{{package_id}}" style="color:#33333333">Datos del auto</a> 
							<i class="material-icons" style="font-size: 20px; position: relative;top:5px">chevron_right</i>
							<a style="color:#33333333" href="/compra-kilometros/{{quote_id}}/{{package_id}}/2">Datos de envío</a> 
							<i class="material-icons" style="font-size: 20px; position: relative;top:5px">chevron_right</i>
							<span class=" green-color bold-opensas">Facturación y pago</span>
						</div>
					</div>
					<div class="row">
						<div (click)="changePayment('tarjeta')" class="col m3 {{pago=='tarjeta'? 'paymet-active':'payment'}}" style="padding: 10px;margin: 5px;" align="center">
							Tarjeta de débito o crédito
						</div>
						<div *ngIf="onlycard==false"  (click)="changePayment('efectivo')" class="col m3 valign-wrapper  {{pago=='efectivo'? 'paymet-active':'payment'}}" style="padding: 10px;margin: 5px;" align="center">
							&nbsp;&nbsp;&nbsp;Centros de pago
						</div>
						<div *ngIf="onlycard==false"  (click)="changePayment('spei')" class="col m3 valign-wrapper  {{pago=='spei'? 'paymet-active':'payment'}}" style="padding: 10px;margin: 5px;" align="center">
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SPEI
						</div>
					</div>
					<div *ngIf="pago=='tarjeta'">
						<div class="row">
							<div class="col m6">
								<div class="input-field ">
						          <input placeholder="Número de tarjeta" [(ngModel)]="card.card_number" name="card.card_number" id="card.card_number" type="text" class="validate" required minlength="15" pattern="[0-9]+">
						          <label class="active" for="card.card_number">Número de tarjeta</label>
						          <span class="helper-text" data-error="Tarjeta inválida" data-success=""></span>
						        </div>
							</div>
						</div>
						<div class="row" style="position: relative;top:-20px;padding-top: 0px">
							<div class="col m6">
								<div class="input-field ">
						          <input placeholder="Nombre del titular" [(ngModel)]="card.holder_name" name="card.holder_name" id="card.holder_name" type="text" class="validate" required minlength="4" >
						          <label class="active" for="card.holder_name">Nombre del titular</label>
						          <span class="helper-text" data-error="Falta ingresar el nombre" data-success=""></span>
						        </div>
							</div>
						</div>
						<div class="row" style="position: relative;top:-40px;padding-top: 0px">
							<div class="col m4">
								<div class="row">
									<div class="col m12">
										<label for="card.expiration_month" style="font-size: 11px">Vigencia</label>
									</div>
									<div class="col m6" style="position: relative;top:-2px">
										<select class="browser-default" required="true" [(ngModel)]="card.expiration_month" name="card.expiration_month"  id="card.expiration_month">
											<option value="" disabled>MM</option>
											<option value="01">01</option>
											<option value="02">02</option>
											<option value="03">03</option>
											<option value="04">04</option>
											<option value="05">05</option>
											<option value="06">06</option>
											<option value="07">07</option>
											<option value="08">08</option>
											<option value="09">09</option>
											<option value="10">10</option>
											<option value="11">11</option>
											<option value="12">12</option>
										</select>
									</div>
									<div class="col m6" style="position: relative;top:-2px">
										<select class="browser-default" required="true" [(ngModel)]="card.expiration_year" name="card.expiration_year"  id="card.expiration_year">
											<option value="" disabled>YYYY</option>
											<option value="18">2018</option>
											<option value="19">2019</option>
											<option value="20">2020</option>
											<option value="21">2021</option>
											<option value="21">2022</option>
											<option value="23">2023</option>
											<option value="24">2024</option>
											<option value="25">2025</option>
											<option value="26">2026</option>
											<option value="27">2027</option>
											<option value="28">2028</option>
											<option value="29">2029</option>
											<option value="30">2030</option>
										</select>
									</div>
								</div>
							</div>
							<div class="col m2">
								<div class="input-field ">
						          <input placeholder="CVV" [(ngModel)]="card.cvv2" name="cvv2s" id="cvv2" type="text" class="validate" required minlength="3" maxlength="4" pattern="[0-9]+">
						          <label class="active" for="card.cvv2">CVV</label>
						          <span class="helper-text" data-error="Falta" data-success=""></span>
						        </div>
							</div>
						</div>
						<div *ngIf="buenfin" class="row" style="position: relative;top:-75px;padding-top: 0px">
							<div class="col m12" style="position: relative;top:-2px">
								<br>
								<label>Forma de pago</label><br>
								<label *ngIf="total_cost>299">
							        <input name="msi" (click)="setMSI(3)" type="radio" />
							        <span>3 meses sis interéses</span>
							     </label>
							</div>
							<div class="col m12" style="position: relative;top:-2px">
								<label *ngIf="total_cost>599">
							        <input name="msi" (click)="setMSI(6)" type="radio" />
							        <span>6 meses sis interéses</span>
							     </label>
							</div>
						</div>
						<div class="row" style="position: relative;top:-75px;padding-top: 0px">
							<div class="col m12">
								<label>
									<input *ngIf="checkbox_suscription && suscription"  (click)="changeSuscription()" type="checkbox" class="filled-in" checked  required />
									<input *ngIf="!checkbox_suscription && suscription" (click)="changeSuscription()" type="checkbox" class="filled-in" required />

									<input *ngIf="checkbox_suscription && !suscription"  (click)="changeSuscription()" type="checkbox" class="filled-in" checked />
									<input *ngIf="!checkbox_suscription && !suscription" (click)="changeSuscription()" type="checkbox" class="filled-in"/>
									<span>Acepto suscripción recurrente.</span>
								</label>
								<br><br>
							</div>
							<div class="col m12">
								<label>
									<input *ngIf="checkbox_factura"  (click)="changeFactura()" type="checkbox" class="filled-in" checked />
									<input *ngIf="!checkbox_factura" (click)="changeFactura()" type="checkbox" class="filled-in"/>
									<span>Requiero factura.</span>
								</label>
								<br><br>
							</div>
						</div>
						<div *ngIf="checkbox_factura" class="row" style="position: relative;top:-100px;padding-top: 0px">
							<div class="col m6">
								<div class="input-field">
									<input placeholder="RFC" name="rfc" id="rfc" type="text" class="validate" required [(ngModel)]="policy.rfc" #rfc="ngModel">
									<label for="rfc" class="active">RFC</label>
									<span class="helper-text" data-error="Falta RFC" data-success=""></span>
								</div>
							</div>
							<div class="col m6">
								<div class="input-field">
									<input placeholder="Razón Social" name="razon_social" id="razon_social" type="text" class="validate" required [(ngModel)]="policy.razon_social" #rfc="ngModel">
									<label for="razon_social" class="active">Razón Social</label>
									<span class="helper-text" data-error="Falta Razón Social" data-success=""></span>
								</div>
							</div>
							<div class="col m6">
								<div class="input-field">
									<input placeholder="Calle" name="street3" id="street3" type="text" class="validate" required [(ngModel)]="policy.street3" #street3="ngModel">
									<label for="street3" class="active">Calle</label>
									<span class="helper-text" data-error="Falta calle" data-success=""></span>
								</div>
							</div>
								<div class="col m3">
									<div class="input-field">
										<input placeholder="Num. Ext" name="ext_number3" id="ext_number3" type="text" class="validate" required [(ngModel)]="policy.ext_number3" #ext_number3="ngModel">
										<label for="ext_number3" class="active">Num. Ext</label>
										<span class="helper-text" data-error="Falta número" data-success=""></span>
									</div>
								</div>
								<div class="col m3">
									<div class="input-field">
										<input placeholder="Num. Int" name="int_number3" id="int_number3" type="text" class="validate" [(ngModel)]="policy.int_number3" #int_number3="ngModel">
										<label for="int_number3" class="active">Num. Int</label>
										<span class="helper-text" data-error="Falta número" data-success=""></span>
									</div>
								</div>
								<div class="col m6">
									<div class="input-field">
										<input placeholder="Código Postal" name="zipcode3" id="zipcode3" type="text" class="validate" required [(ngModel)]="policy.zipcode3" #zipcode1="ngModel" (change)="validateZipcode()" *ngIf="zipcodeBoolean">
										<input placeholder="Código Postal" name="zipcode2" id="zipcode3" type="text" class="validate invalid" required [(ngModel)]="policy.zipcode3" #zipcode1="ngModel" (change)="validateZipcode()" *ngIf="!zipcodeBoolean">
										<label for="zipcode3" class="active">Código Postal</label>
										<span class="helper-text" data-error="Código Postal inválido" data-success=""></span>
									</div>
								</div>
								<div class="col m6" style="position: relative;top:-4px">
									<label style="font-size: 11px">Colonia</label>
									<select class="browser-default" required="true" [(ngModel)]="policy.suburb3" name="suburb3" #suburb3="ngModel" id="suburb3">
										<option value="" disabled>Seleccionar</option>
									    <option *ngFor="let suburb of suburbs3" value="{{suburb.suburb}}">{{suburb.suburb}}</option>
									</select>
								</div>
						</div>
						<div *ngIf="checkbox_factura" class="row" style="position: relative;top:-120px;padding-top: 0px">
							<div class="col m6">
								<div class="input-field">
									<input placeholder="Ciudad" name="city3" id="city3" type="text" class="validate" disabled [(ngModel)]="policy.city3" #city3="ngModel">
									<label for="city3" class="active">Ciudad / Delegación</label>
									<span class="helper-text" data-error="Falta Ciudad" data-success=""></span>
								</div>
							</div>
							<div class="col m6">
								<div class="input-field">
									<input placeholder="Estado" name="state3" id="state3" type="text" class="validate" disabled [(ngModel)]="policy.state1" #state3="ngModel">
									<label for="state3" class="active">Estado</label>
									<span class="helper-text" data-error="Falta Estado" data-success=""></span>
								</div>
							</div>
						</div>
					</div>
					<div *ngIf="pago=='efectivo'">
						<div class="row">
							<div class="col m12">
								<span>Selecciona tu tienda de preferencia:</span>
								<br>
								<span *ngIf="error_store!=''" style="color:red">Selecciona una tienda</span>
							</div>
							<div class="col m3" align="center" *ngFor="let store of stores" style="padding: 5px">
								<div style="border:1px solid rgba(15, 49, 42, 0.3);height: 50px;border-radius: 3px;" class="{{policy.store==store.store ? 'store-select':''}}" (click)="setStore(store.store, store.url)">
									<img src="{{store.image}}" class="responsive-img" >
								</div>
							</div>
						</div>
					</div>
					<div *ngIf="pago=='spei'">
						<div class="row">
							<div class="col m12">
								<br>
								<img src="/assets/img/pagos/spei.png" alt=""> <br><br><br>
							</div>
							<div class="col m9" align="justify">
								Al hacer clic en “Terminar” recibirás las instrucciones para pagar con transferencia desde tu banco. Deberás realizarlo dentro de las próximas 24 horas para mantener tu cotización.
							</div>
						</div>
					</div>
					<div *ngIf="pago!='tarjeta'" class="row">
						<div class="col m12">
							<label>
								<input *ngIf="checkbox_factura"  (click)="changeFactura()" type="checkbox" class="filled-in" checked />
								<input *ngIf="!checkbox_factura" (click)="changeFactura()" type="checkbox" class="filled-in"/>
								<span>Requiero factura.</span>
							</label>
							<br><br>
						</div>
					</div>
					<div *ngIf="pago!='tarjeta' && checkbox_factura" class="row" style="">
						<div class="col m6">
							<div class="input-field">
								<input placeholder="RFC" name="rfc" id="rfc" type="text" class="validate" required [(ngModel)]="policy.rfc" #rfc="ngModel">
								<label for="rfc" class="active">RFC</label>
								<span class="helper-text" data-error="Falta RFC" data-success=""></span>
							</div>
						</div>
						<div class="col m6">
							<div class="input-field">
								<input placeholder="Razón Social" name="razon_social" id="razon_social" type="text" class="validate" required [(ngModel)]="policy.razon_social" #rfc="ngModel">
								<label for="razon_social" class="active">Razón Social</label>
								<span class="helper-text" data-error="Falta Razón Social" data-success=""></span>
							</div>
						</div>
						<div class="col m6">
							<div class="input-field">
								<input placeholder="Calle" name="street3" id="street3" type="text" class="validate" required [(ngModel)]="policy.street3" #street3="ngModel">
								<label for="street3" class="active">Calle</label>
								<span class="helper-text" data-error="Falta calle" data-success=""></span>
							</div>
						</div>
						<div class="col m3">
							<div class="input-field">
								<input placeholder="Num. Ext" name="ext_number3" id="ext_number3" type="text" class="validate" required [(ngModel)]="policy.ext_number3" #ext_number3="ngModel">
								<label for="ext_number3" class="active">Num. Ext</label>
								<span class="helper-text" data-error="Falta número" data-success=""></span>
						</div>
						</div>
						<div class="col m3">
							<div class="input-field">
								<input placeholder="Num. Int" name="int_number3" id="int_number3" type="text" class="validate" [(ngModel)]="policy.int_number3" #int_number3="ngModel">
								<label for="int_number3" class="active">Num. Int</label>
								<span class="helper-text" data-error="Falta número" data-success=""></span>
							</div>
						</div>
						<div class="col m6">
							<div class="input-field">
								<input placeholder="Código Postal" name="zipcode3" id="zipcode3" type="text" class="validate" required [(ngModel)]="policy.zipcode3" #zipcode1="ngModel" (change)="validateZipcode()" *ngIf="zipcodeBoolean">
								<input placeholder="Código Postal" name="zipcode2" id="zipcode3" type="text" class="validate invalid" required [(ngModel)]="policy.zipcode3" #zipcode1="ngModel" (change)="validateZipcode()" *ngIf="!zipcodeBoolean">
								<label for="zipcode3" class="active">Código Postal</label>
								<span class="helper-text" data-error="Código Postal inválido" data-success=""></span>
							</div>
						</div>
						<div class="col m6" style="position: relative;top:-4px">
							<label style="font-size: 11px">Colonia</label>
							<select class="browser-default" required="true" [(ngModel)]="policy.suburb3" name="suburb3" #suburb3="ngModel" id="suburb3">
								<option value="" disabled>Seleccionar</option>
							    <option *ngFor="let suburb of suburbs3" value="{{suburb.suburb}}">{{suburb.suburb}}</option>
							</select>
						</div>
					</div>
					<div *ngIf="pago!='tarjeta' && checkbox_factura" class="row" style="position: relative;top:-20px;padding-top: 0px">
						<div class="col m6">
							<div class="input-field">
								<input placeholder="Ciudad" name="city3" id="city3" type="text" class="validate" disabled [(ngModel)]="policy.city3" #city3="ngModel">
								<label for="city3" class="active">Ciudad / Delegación</label>
								<span class="helper-text" data-error="Falta Ciudad" data-success=""></span>
							</div>
						</div>
						<div class="col m6">
							<div class="input-field">
								<input placeholder="Estado" name="state3" id="state3" type="text" class="validate" disabled [(ngModel)]="policy.state1" #state3="ngModel">
								<label for="state3" class="active">Estado</label>
								<span class="helper-text" data-error="Falta Estado" data-success=""></span>
							</div>
						</div>
					</div>
				</div>
				<div class="col m1"></div>
				<div class="col m4" style="border-left: 1px solid #e0e4e8;padding-left: 30px;">
					<div *ngIf="aig!=null" class="row">
						<div class="col m3" style="" align="left" >
							<div style="padding: 5px;border:1px solid #b7c1bf;border-radius: 2px;width: 60px;height: 60px" align="center">
								<img src="/assets/img/makers/{{aig.maker}}.png" style="width: 40px;height: 40px;" alt="">
							</div>
						</div>
						<div class="col m8">
							{{aig.version}} {{aig.year}}
						</div>
					</div>
					<div *ngIf="package!=null" class="row">
						<div class="col m12">
							<div class="col m12  cart-card" style="padding-top:15px;padding-bottom: 15px">
								<div class="col m12">
									<span class="span-title-card">Suscripción mensual</span><br>
								</div>
								<div class="col m6">
									<span class="span-title2-card">Primer mes</span>
								</div>
								<div class="col m6" align="right">
									<span class="span-title2-card" >$299</span>
								</div>
							</div>
						</div>
					</div>
					<div *ngIf="package!=null" class="row">
						<div class="col m12">
							<div class="col m12  cart-card" style="padding-top:15px;padding-bottom: 15px">
								<div class="col m12">
									<span class="span-title-card">Paquete de kilómetros</span><br>
								</div>
								<div class="col m6">
									<span class="span-title2-card">{{buenfin ? '7,250':package.package}} km </span> <br>
									<small>(Vigencia: {{package.vigency}} mes{{package.vigency!=1 ? 'es':''}} )</small>
								</div>
								<div class="col m6" align="right">
									<span class="span-title2-card" >{{package.cost_by_package | currency}}</span>
								</div>
							</div>
						</div>
					</div>
					<div class="row" >
						<div class="col m12">
							<div class="input-field">
					          <input [(ngModel)]="cupon" name="cupon" id="cupon" type="text" class="validate" placeholder="Cupón de descuento" (click)="searchCupon()">
					          <span style="position:absolute;right:10px;font-size: 14px; color: #17d320;cursor: pointer;" class="prefix" (click)="searchCupon()">Aplicar</span>
					        </div>
						</div>
					</div>
					<div *ngIf="package!=null" class="row" >
						<div *ngIf="discount!=0" class="col m6">
							<span class="bold-opensas" style="font-size: 16px">Subtotal</span>
						</div>
						<div *ngIf="discount!=0" class="col m6" align="right">
							<span class="bold-opensas" style="font-size: 16px">{{package.total_cost | currency}}</span>
						</div>
						<div *ngIf="discount!=0" class="col m6">
							<span class="bold-opensas" style="font-size: 16px">Descuento</span>
						</div>
						<div *ngIf="discount!=0" class="col m6" align="right">
							<span class="bold-opensas" style="font-size: 16px">- {{discount | currency}}</span>
						</div>

						<div class="col m6">
							<span class="bold-opensas" style="font-size: 22px">Total</span>
						</div>
						<div class="col m6" align="right">
							<span class="bold-opensas" style="font-size: 22px">{{total_cost | currency}}</span>
						</div>
					</div>
					<div class="row">
						<div class="col m12">
							<label>
								<input required="" *ngIf="checkbox_factura"  (click)="changeTerminos()" type="checkbox" class="filled-in" checked />
								<input required="" *ngIf="!checkbox_factura" (click)="changeTerminos()" type="checkbox" class="filled-in"/>
								<span>Acepto los <a target="_blank" href="/terminos-y-condiciones">términos y condiciones</a></span>
							</label>
							<br><br>
						</div>
						<div class="col m12">
							<button *ngIf="pago=='tarjeta'" class="btn waves-effect waves-ligh btn-large" style="width:100%" type="submit" name="action"> Pagar
							</button>
							<button *ngIf="pago=='efectivo'" class="btn waves-effect waves-ligh btn-large" style="width:100%" type="submit" name="action" > Generar ficha de pago
							</button>
							<button *ngIf="pago=='spei'" class="btn waves-effect waves-ligh btn-large" style="width:100%" type="submit" name="action" >Generar referencia
							</button>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
</section>
<section  class="hide-on-large-only" style="background-color: #0f312a;color:#fff;">
	<div class="row" *ngIf="package!=null">
		<div class="col s3">
			<div style="background-color:#ffff;padding: 5px;border:1px solid #b7c1bf;border-radius: 2px;width: 60px;height: 60px" align="center">
				<img src="/assets/img/makers/{{aig.maker}}.png" style="width: 40px;height: 40px;" alt="">
			</div>
			<br>
		</div>
		<div class="col s9" style="color:#fff">
			{{aig.version}} {{aig.year}} <br>
			<span class="bold-opensas" style="color:#ffff;font-size: 18px;">Paquete de {{package.package}} km: {{total_cost | currency}}</span>
		</div>
	</div>
</section>
<section  class="hide-on-large-only" style="padding-top: 0px">
	<form  #cart="ngForm" (ngSubmit)="onSubmit()" ngNativeValidate>
		<div class="row">
			<div class="col m12">
				Paso 3 de 3 <br>
				<span class="bold-opensas" style="font-size: 20px">Facturación y pago</span>
			</div>
		</div>
		<div class="row">
			<div (click)="changePayment('tarjeta')" class="col m3 {{pago=='tarjeta'? 'paymet-active':'payment'}}" style="padding: 10px;margin: 5px;" align="center">
				Tarjeta de débito <br> o crédito
			</div>
			<div *ngIf="onlycard==false"  (click)="changePayment('efectivo')" class="col m3 valign-wrapper  {{pago=='efectivo'? 'paymet-active':'payment'}}" style="padding: 10px;margin: 5px;" align="center">
				&nbsp;Centros de <br>pago
			</div>
			<div *ngIf="onlycard==false"  (click)="changePayment('spei')" class="col m3 valign-wrapper  {{pago=='spei'? 'paymet-active':'payment'}}" style="padding: 10px;margin: 5px;" align="center">
				&nbsp;&nbsp;SPEI &nbsp;&nbsp;
			</div>
		</div>
		<div *ngIf="pago=='tarjeta'">
			<div class="row">
				<div class="col s12">
					<div class="input-field ">
						<input placeholder="Número de tarjeta" [(ngModel)]="card.card_number" name="card.card_number" id="card.card_number" type="text" class="validate" required minlength="15" pattern="[0-9]+">
						<label class="active" for="card.card_number">Número de tarjeta</label>
						<span class="helper-text" data-error="Tarjeta inválida" data-success=""></span>
					</div>
				</div>
			</div>
			<div class="row" style="position: relative;top:-20px;padding-top: 0px">
				<div class="col s12">
					<div class="input-field ">
						<input placeholder="Nombre del titular" [(ngModel)]="card.holder_name" name="card.holder_name" id="card.holder_name" type="text" class="validate" required minlength="4" >
						<label class="active" for="card.holder_name">Nombre del titular</label>
						<span class="helper-text" data-error="Falta ingresar el nombre" data-success=""></span>
					</div>
				</div>
			</div>
			<div class="row" style="position: relative;top:-40px;padding-top: 0px">
				<div class="col s6">
					<div class="row">
						<div class="col s12">
							<label for="card.expiration_month" style="font-size: 11px">Vigencia</label>
						</div>
						<div class="col s6" style="position: relative;top:-2px">
							<select class="browser-default" required="true" [(ngModel)]="card.expiration_month" name="card.expiration_month"  id="card.expiration_month">
								<option value="" disabled>MM</option>
								<option value="01">01</option>
								<option value="02">02</option>
								<option value="03">03</option>
								<option value="04">04</option>
								<option value="05">05</option>
								<option value="06">06</option>
								<option value="07">07</option>
								<option value="08">08</option>
								<option value="09">09</option>
								<option value="10">10</option>
								<option value="11">11</option>
								<option value="12">12</option>
							</select>
						</div>
						<div class="col s6" style="position: relative;top:-2px">
							<select class="browser-default" required="true" [(ngModel)]="card.expiration_year" name="card.expiration_year"  id="card.expiration_year">
								<option value="" disabled>YYYY</option>
								<option value="18">2018</option>
								<option value="19">2019</option>
								<option value="20">2020</option>
								<option value="21">2021</option>
								<option value="21">2022</option>
								<option value="23">2023</option>
								<option value="24">2024</option>
								<option value="25">2025</option>
								<option value="26">2026</option>
								<option value="27">2027</option>
								<option value="28">2028</option>
								<option value="29">2029</option>
								<option value="30">2030</option>
							</select>
						</div>
					</div>
				</div>
				<div class="col s4">
					<div class="input-field ">
						<input placeholder="CVV" [(ngModel)]="card.cvv2" name="cvv2s" id="cvv2" type="text" class="validate" required minlength="3" maxlength="4" pattern="[0-9]+">
						<label class="active" for="card.cvv2">CVV</label>
						<span class="helper-text" data-error="Falta" data-success=""></span>
					</div>
				</div>
			</div>
			<div class="row" style="position: relative;top:-75px;padding-top: 0px">
				<div class="col m12">
					<label>
						<input *ngIf="checkbox_suscription && suscription"  (click)="changeSuscription()" type="checkbox" class="filled-in" checked  required />
						<input *ngIf="!checkbox_suscription && suscription" (click)="changeSuscription()" type="checkbox" class="filled-in" required />
						<input *ngIf="checkbox_suscription && !suscription"  (click)="changeSuscription()" type="checkbox" class="filled-in" checked />
						<input *ngIf="!checkbox_suscription && !suscription" (click)="changeSuscription()" type="checkbox" class="filled-in"/>
						<span>Acepto suscripción recurrente.</span>
					</label>
					<br><br>
				</div>
				<div class="col m12">
					<label>
						<input *ngIf="checkbox_factura"  (click)="changeFactura()" type="checkbox" class="filled-in" checked />
						<input *ngIf="!checkbox_factura" (click)="changeFactura()" type="checkbox" class="filled-in"/>
						<span>Requiero factura.</span>
					</label>
					<br><br>
				</div>
			</div>
			<div *ngIf="checkbox_factura" class="row" style="position: relative;top:-100px;padding-top: 0px">
				<div class="col s12">
					<div class="input-field">
						<input placeholder="RFC" name="rfc" id="rfc" type="text" class="validate" required [(ngModel)]="policy.rfc" #rfc="ngModel">
						<label for="rfc" class="active">RFC</label>
						<span class="helper-text" data-error="Falta RFC" data-success=""></span>
					</div>
				</div>
				<div class="col s12">
					<div class="input-field">
						<input placeholder="Razón Social" name="razon_social" id="razon_social" type="text" class="validate" required [(ngModel)]="policy.razon_social" #rfc="ngModel">
						<label for="razon_social" class="active">Razón Social</label>
						<span class="helper-text" data-error="Falta Razón Social" data-success=""></span>
					</div>
				</div>
				<div class="col s12">
					<div class="input-field">
						<input placeholder="Calle" name="street3" id="street3" type="text" class="validate" required [(ngModel)]="policy.street3" #street3="ngModel">
						<label for="street3" class="active">Calle</label>
						<span class="helper-text" data-error="Falta calle" data-success=""></span>
					</div>
				</div>
				<div class="col s6">
					<div class="input-field">
						<input placeholder="Num. Ext" name="ext_number3" id="ext_number3" type="text" class="validate" required [(ngModel)]="policy.ext_number3" #ext_number3="ngModel">
						<label for="ext_number3" class="active">Num. Ext</label>
						<span class="helper-text" data-error="Falta número" data-success=""></span>
					</div>
				</div>
				<div class="col s6">
					<div class="input-field">
						<input placeholder="Num. Int" name="int_number3" id="int_number3" type="text" class="validate" [(ngModel)]="policy.int_number3" #int_number3="ngModel">
						<label for="int_number3" class="active">Num. Int</label>
						<span class="helper-text" data-error="Falta número" data-success=""></span>
					</div>
				</div>
				<div class="col s6">
					<div class="input-field">
						<input placeholder="Código Postal" name="zipcode3" id="zipcode3" type="text" class="validate" required [(ngModel)]="policy.zipcode3" #zipcode1="ngModel" (change)="validateZipcode()" *ngIf="zipcodeBoolean">
						<input placeholder="Código Postal" name="zipcode2" id="zipcode3" type="text" class="validate invalid" required [(ngModel)]="policy.zipcode3" #zipcode1="ngModel" (change)="validateZipcode()" *ngIf="!zipcodeBoolean">
						<label for="zipcode3" class="active">Código Postal</label>
						<span class="helper-text" data-error="Código Postal inválido" data-success=""></span>
					</div>
				</div>
				<div class="col s6" style="position: relative;top:-4px">
					<label style="font-size: 11px">Colonia</label>
					<select class="browser-default" required="true" [(ngModel)]="policy.suburb3" name="suburb3" #suburb3="ngModel" id="suburb3">
						<option value="" disabled>Seleccionar</option>
						<option *ngFor="let suburb of suburbs3" value="{{suburb.suburb}}">{{suburb.suburb}}</option>
					</select>
				</div>
			</div>
			<div *ngIf="checkbox_factura" class="row" style="position: relative;top:-120px;padding-top: 0px">
				<div class="col s6">
					<div class="input-field">
						<input placeholder="Ciudad" name="city3" id="city3" type="text" class="validate" disabled [(ngModel)]="policy.city3" #city3="ngModel">
						<label for="city3" class="active">Ciudad / Delegación</label>
						<span class="helper-text" data-error="Falta Ciudad" data-success=""></span>
					</div>
				</div>
				<div class="col s6">
					<div class="input-field">
						<input placeholder="Estado" name="state3" id="state3" type="text" class="validate" disabled [(ngModel)]="policy.state1" #state3="ngModel">
						<label for="state3" class="active">Estado</label>
						<span class="helper-text" data-error="Falta Estado" data-success=""></span>
					</div>
				</div>
			</div>
		</div>
		<div *ngIf="pago=='efectivo'">
			<div class="row">
				<div class="col m12">
					<span>Selecciona tu tienda de preferencia:</span>
					<br>
					<span *ngIf="error_store!=''" style="color:red">Selecciona una tienda</span>
				</div>
				<div class="col s4" align="center" *ngFor="let store of stores" style="padding: 5px">
					<div style="border:1px solid rgba(15, 49, 42, 0.3);height: 50px;border-radius: 3px;" class="{{policy.store==store.store ? 'store-select':''}}" (click)="setStore(store.store)">
						<img src="{{store.image}}" class="responsive-img" >
					</div>
				</div>
			</div>
		</div>
		<div *ngIf="pago=='spei'">
			<div class="row">
				<div class="col m12">
					<br>
					<img src="/assets/img/pagos/spei.png" alt=""> <br><br><br>
				</div>
				<div class="col m9" align="justify">
					Al hacer clic en “Terminar” recibirás las instrucciones para pagar con transferencia desde tu banco. Deberás realizarlo dentro de las próximas 24 horas para mantener tu cotización.
				</div>
			</div>
		</div>
		<div *ngIf="pago!='tarjeta'" class="row">
			<div class="col m12">
				<label>
					<input *ngIf="checkbox_factura"  (click)="changeFactura()" type="checkbox" class="filled-in" checked />
					<input *ngIf="!checkbox_factura" (click)="changeFactura()" type="checkbox" class="filled-in"/>
					<span>Requiero factura.</span>
				</label>
				<br><br>
			</div>
		</div>
		<div *ngIf="pago!='tarjeta' && checkbox_factura" class="row" style="">
			<div class="col s12">
				<div class="input-field">
					<input placeholder="RFC" name="rfc" id="rfc" type="text" class="validate" required [(ngModel)]="policy.rfc" #rfc="ngModel">
					<label for="rfc" class="active">RFC</label>
					<span class="helper-text" data-error="Falta RFC" data-success=""></span>
				</div>
			</div>
			<div class="col s12">
				<div class="input-field">
					<input placeholder="Razón Social" name="razon_social" id="razon_social" type="text" class="validate" required [(ngModel)]="policy.razon_social" #rfc="ngModel">
					<label for="razon_social" class="active">Razón Social</label>
					<span class="helper-text" data-error="Falta Razón Social" data-success=""></span>
				</div>
			</div>
			<div class="col s12">
				<div class="input-field">
					<input placeholder="Calle" name="street3" id="street3" type="text" class="validate" required [(ngModel)]="policy.street3" #street3="ngModel">
					<label for="street3" class="active">Calle</label>
					<span class="helper-text" data-error="Falta calle" data-success=""></span>
				</div>
			</div>
			<div class="col s6">
				<div class="input-field">
					<input placeholder="Num. Ext" name="ext_number3" id="ext_number3" type="text" class="validate" required [(ngModel)]="policy.ext_number3" #ext_number3="ngModel">
					<label for="ext_number3" class="active">Num. Ext</label>
					<span class="helper-text" data-error="Falta número" data-success=""></span>
				</div>
			</div>
			<div class="col s6">
				<div class="input-field">
					<input placeholder="Num. Int" name="int_number3" id="int_number3" type="text" class="validate" [(ngModel)]="policy.int_number3" #int_number3="ngModel">
					<label for="int_number3" class="active">Num. Int</label>
					<span class="helper-text" data-error="Falta número" data-success=""></span>
				</div>
			</div>
			<div class="col s6">
				<div class="input-field">
					<input placeholder="Código Postal" name="zipcode3" id="zipcode3" type="text" class="validate" required [(ngModel)]="policy.zipcode3" #zipcode1="ngModel" (change)="validateZipcode()" *ngIf="zipcodeBoolean">
					<input placeholder="Código Postal" name="zipcode2" id="zipcode3" type="text" class="validate invalid" required [(ngModel)]="policy.zipcode3" #zipcode1="ngModel" (change)="validateZipcode()" *ngIf="!zipcodeBoolean">
					<label for="zipcode3" class="active">Código Postal</label>
					<span class="helper-text" data-error="Código Postal inválido" data-success=""></span>
				</div>
			</div>
			<div class="col s6" style="position: relative;top:-4px">
				<label style="font-size: 11px">Colonia</label>
				<select class="browser-default" required="true" [(ngModel)]="policy.suburb3" name="suburb3" #suburb3="ngModel" id="suburb3">
					<option value="" disabled>Seleccionar</option>
					<option *ngFor="let suburb of suburbs3" value="{{suburb.suburb}}">{{suburb.suburb}}</option>
				</select>
			</div>
		</div>
		<div *ngIf="pago!='tarjeta' && checkbox_factura" class="row" style="position: relative;top:-20px;padding-top: 0px">
			<div class="col s6">
				<div class="input-field">
					<input placeholder="Ciudad" name="city3" id="city3" type="text" class="validate" disabled [(ngModel)]="policy.city3" #city3="ngModel">
					<label for="city3" class="active">Ciudad / Delegación</label>
					<span class="helper-text" data-error="Falta Ciudad" data-success=""></span>
				</div>
			</div>
			<div class="col s6">
				<div class="input-field">
					<input placeholder="Estado" name="state3" id="state3" type="text" class="validate" disabled [(ngModel)]="policy.state1" #state3="ngModel">
					<label for="state3" class="active">Estado</label>
					<span class="helper-text" data-error="Falta Estado" data-success=""></span>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col s12">
				<div class="input-field">
					<input [(ngModel)]="cupon" name="cupon" id="cupon" type="text" class="validate" placeholder="Cupón de descuento" (blur)="searchCupon()">
					<span style="position:absolute;right:10px;font-size: 14px; color: #17d320;cursor: pointer;" class="prefix" (click)="searchCupon()">Aplicar</span>
				</div>
			</div>
		</div>
		<div *ngIf="package!=null" class="row" >
			<div *ngIf="discount!=0" class="col s6">
				<span class="bold-opensas" style="font-size: 16px">Subtotal</span>
			</div>
			<div *ngIf="discount!=0" class="col s6" align="right">
				<span class="bold-opensas" style="font-size: 16px">{{package.total_cost | currency}}</span>
			</div>
			<div *ngIf="discount!=0" class="col s6">
				<span class="bold-opensas" style="font-size: 16px">Descuento</span>
			</div>
			<div *ngIf="discount!=0" class="col s6" align="right">
				<span class="bold-opensas" style="font-size: 16px">- {{discount | currency}}</span>
			</div>
			<div class="col s6">
				<span class="bold-opensas" style="font-size: 22px">Total</span>
			</div>
			<div class="col s6" align="right">
				<span class="bold-opensas" style="font-size: 22px">{{total_cost | currency}}</span>
			</div>
		</div>
		<div class="row">
			<div class="col s12">
				<label>
					<input required="" *ngIf="checkbox_factura"  (click)="changeTerminos()" type="checkbox" class="filled-in" checked />
					<input required="" *ngIf="!checkbox_factura" (click)="changeTerminos()" type="checkbox" class="filled-in"/>
					<span>Acepto los <a target="_blank" href="/terminos-y-condiciones">términos y condiciones</a></span>
				</label>
				<br><br>
			</div>
			<div class="col s12">
				<button *ngIf="pago=='tarjeta'" class="btn waves-effect waves-ligh btn-large" style="width:100%" type="submit" name="action"> Pagar
				</button>
				<button *ngIf="pago=='efectivo'" class="btn waves-effect waves-ligh btn-large" style="width:100%" type="submit" name="action" > Generar ficha de pago
				</button>
				<button *ngIf="pago=='spei'" class="btn waves-effect waves-ligh btn-large" style="width:100%" type="submit" name="action" >Generar referencia
				</button>
			</div>
		</div>
	</form>
</section>


<!-- Modal Structure -->
<div id="modal1" class="modal" align="center" style="background-color: #fff">
    <div class="modal-content">
      <h5 *ngIf="pago=='tarjeta'">Espera un momento por favor <br><br> Estamos procesando tu pago</h5>
      <h5 *ngIf="pago=='efectivo'">Espera un momento por favor <br><br> Estamos generando tu ficha de pago</h5>
      <h5 *ngIf="pago=='spei'">Espera un momento por favor <br><br> Estamos generando la referencia de pago</h5>
      <br><p>No cierre la ventana por favor</p>
      <img src="/assets/img/spinner.gif" alt="">
    </div>
</div>

<!-- Modal Structure -->
<div id="modal2" class="modal">
    <div class="modal-content">
      <h5 *ngIf="pago=='tarjeta'">Hubo un problema al procesar tu pago</h5>
      <h5 *ngIf="pago=='efectivo'">Hubo un problema al generar tu ficha de pago</h5>
      <h5 *ngIf="pago=='spei'">Hubo un problema al generar tu referencia de pago</h5>
      <br><p>Inténtalo con otra forma de pago</p>
    </div>
    <div class="modal-footer">
      <a  class="modal-close waves-effect waves-green btn-flat">Cerrar</a>
    </div>
</div>